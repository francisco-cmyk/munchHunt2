import{r as a,j as t,R as he}from"./react-DGI8dM3C.js";import{c as pe}from"./react-dom-b4hKtrb9.js";import{B as ge}from"./react-router-dom-DivpCb3t.js";import{u as H}from"./@gsap-Bni9JcUN.js";import{g as j}from"./gsap-DjKJqAo0.js";import{S as O}from"./split-type-C03LSoLi.js";import{u as A,a as je,O as we,b as ye,c as R}from"./react-router-DnBnZorh.js";import{c as ve}from"./class-variance-authority-Bb4qSo10.js";import{c as be}from"./clsx-B-dksMZM.js";import{t as Ne}from"./tailwind-merge-Dnoi3Axr.js";import{S as Ce,C as Se,a as G,P as Re,R as Fe,T as Ae,b as X,c as Y,d as Ie,e as q,I as J,f as Q,g as V,h as Z,L as ee,i as te,j as ke,k as Oe}from"./@radix-ui-dgoc6zMc.js";import{u as P,a as Te,Q as Me,b as De}from"./@tanstack-CU6xdDnn.js";import{a as I}from"./axios-CCb-kr4I.js";import{L as ze,S as He,A as se,X as z,a as Pe,U as $e,C as ne,b as Le,c as Ee,d as Be,e as _e,f as We,F as Ke}from"./lucide-react-Bv8P3xeW.js";import{X as F,a as B}from"./@animxyz-SeRGwhjc.js";import{S as _}from"./react-loading-skeleton-PZ7wZbTY.js";import{l as Ue}from"./lodash-B2xE5lR3.js";import{A as Ge,M as Xe,a as Ye}from"./@vis.gl-SOIDlmmd.js";import"./fast-deep-equal-DaaPHwIQ.js";import"./scheduler-CzFDRTuY.js";import"./@remix-run-BqeRHQGj.js";import"./@floating-ui-CkEE1Vs5.js";import"./aria-hidden-DQ5UC2Eg.js";import"./react-remove-scroll-BtDH5Z3G.js";import"./tslib-CDuPK5Eb.js";import"./react-remove-scroll-bar-BwMvVca_.js";import"./react-style-singleton-C4bOnJcv.js";import"./get-nonce-C-Z93AgS.js";import"./use-sidecar-DsFKy-tc.js";import"./use-callback-ref-CTj7EO4d.js";import"./prop-types-0bS2mDde.js";import"./react-transition-group-CJ63pMoa.js";import"./@babel-CFI5ZLdb.js";import"./dom-helpers-D0mFdbeO.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function qe(){const[e,n]=a.useState(!0),[s,o]=a.useState("text1"),r=A(),i=a.useRef(null),c=a.useRef(null),p=a.useRef(null);return H(()=>{if(i.current&&s==="text1"){const h=new O(i.current,{types:"words"});j.from(h.words,{opacity:0,y:50,stagger:.1,duration:1,ease:"power2.out",onComplete:()=>{o("text2")}})}if(c.current&&s==="text2"){const h=new O(c.current,{types:"words"});j.from(h.words,{opacity:0,y:50,stagger:.1,duration:1,ease:"power2.out",onComplete:()=>{o("text3")}})}if(p.current&&s==="text3"){const h=new O(p.current,{types:"words"});j.from(h.words,{opacity:0,y:50,stagger:.1,duration:1,ease:"power2.out"})}},[i,c,p,s]),a.useEffect(()=>{const y=setTimeout(()=>{n(!1),r("/location"),o("text1")},6e3);return()=>clearTimeout(y)},[]),t.jsxs("div",{className:"min-h-screen flex flex-col justify-center items-center font-semibold font-archivo bg-customOrange",children:[t.jsx("p",{ref:i,className:`md:text-[60px] text-2xl text-wrap text-center ${s==="text1"?"inline":"hidden"}  leading-tight text-star`,children:"Struggling to choose a restaurant?"}),t.jsx("p",{ref:c,className:`md:text-[60px] text-2xl ${s==="text2"?"inline":"hidden"} leading-tight text-star`,children:"Date night? Or just hungry?"}),t.jsx("p",{ref:p,className:`md:text-[60px] text-2xl ${s==="text3"?"inline":"hidden"} leading-tight text-star`,children:"Lets find the right place for you"})]})}function m(...e){return Ne(be(e))}function $(e){return function(s){return e(o=>({...o,...s}))}}function Je(e,n,s){return e>n&&e<s}function oe(e){return(e*.000621371192).toFixed(2).toString()}function T(e){const n=Math.floor(Math.random()*e.length);return e[n]}const Qe=ve("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),S=a.forwardRef(({className:e,variant:n,size:s,asChild:o=!1,...r},i)=>{const c=o?Ce:"button";return t.jsx(c,{className:m(Qe({variant:n,size:s,className:e})),ref:i,...r})});S.displayName="Button";const ae=a.forwardRef(({className:e,type:n,...s},o)=>t.jsx("input",{type:n,className:m("flex h-10 w-full rounded-lg border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-slate-200 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:o,...s}));ae.displayName="Input";const re=a.createContext({currentAddress:"",setCurrentAddress:e=>{},currentCoordinates:{latitude:"",longitude:""},setCoordinates:e=>{},munchHuntChoice:"",setMunchHuntChoice:e=>{}}),Ve=({children:e})=>{const[n,s]=a.useState(""),[o,r]=a.useState({latitude:"",longitude:""}),[i,c]=a.useState(""),[p,y]=a.useState(""),h={currentAddress:n,setCurrentAddress:u=>{s(u)},currentCoordinates:o,setCoordinates:u=>{r(u),localStorage.setItem("location",JSON.stringify(u))},result:i,setResult:u=>{c(u)},munchHuntChoice:p,setMunchHuntChoice:u=>{y(u)}};return a.useEffect(()=>{let u=localStorage.getItem("location"),v=localStorage.getItem("choice");u&&r(JSON.parse(u)),v&&y(v)},[]),t.jsx(re.Provider,{value:h,children:e})},k=()=>a.useContext(re);async function Ze(e){if(!(!e.latitude&&!e.longitude))try{const n=`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e.latitude},${e.longitude}&key=AIzaSyCd-C2k9xAAF52qiGiF3FFhuZnF2xB6KDc`,s=await I.get(n);if(s.data.results.length>0)return s.data.results[0].formatted_address}catch(n){console.log("ERROR",n),alert("Sorry could not find your location, please add your location in the input field.")}}function et(e){return P({queryKey:["formattedAddress",e],queryFn:async()=>await Ze(e),enabled:!!(e.latitude&&e.longitude)})}function tt(){return Te({mutationKey:["getCoordinates"],mutationFn:async e=>{const s=(await I.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:e,key:"AIzaSyCd-C2k9xAAF52qiGiF3FFhuZnF2xB6KDc"}})).data.results[0].geometry.location;let o={latitude:"",longitude:""};return typeof s.lat=="number"&&typeof s.lng=="number"&&(o={latitude:s.lat.toString(),longitude:s.lng.toString()}),o},onError:e=>{console.log("Error getting coordinates from address")}})}const st={addresssInput:"",isInvalidAddress:!1};function nt(){const[e,n]=a.useState(st),s=$(n),o=k(),r=A(),i=tt(),{data:c,isLoading:p}=et(o.currentCoordinates),y=window.innerHeight;a.useEffect(()=>{if(c&&e.addresssInput.length===0){const f=ot(c);s({addresssInput:f})}},[c]);const h=a.useRef(null),u=a.useRef(null),v=a.useRef(null),l=a.useRef(null),x=a.useRef(null),w=a.useRef(null),C=a.useRef(null);H(()=>{var L,E;j.fromTo(u.current,{translateY:-300,duration:1},{translateY:0,duration:1}),j.fromTo(v.current,{translateY:100,duration:1},{translateY:0,duration:1});const g=((L=h.current)==null?void 0:L.clientWidth)??600,N=((E=h.current)==null?void 0:E.clientHeight)??600;j.to(C.current,{x:()=>j.utils.random(3,g-100,1),y:()=>j.utils.random(.5,N-200,1),duration:3,ease:"sine.in",repeat:-1,repeatRefresh:!0})},[u,v,C,h]);function d(){const f=v.current?v.current.clientHeight:150,g=w.current?w.current.clientWidth:1e3;j.fromTo(l.current,{opacity:1,duration:1},{opacity:0,duration:1}),j.fromTo(x.current,{opacity:1,translateX:0},{opacity:0,translateX:-2e3}),j.fromTo(v.current,{translateY:0,opacity:1},{translateY:-(y-f),opacity:1,scaleY:.9,duration:1}),j.fromTo(w.current,{opacity:1,translateX:0},{translateX:g-y-10,scale:1.3,opacity:.2}),j.fromTo(C.current,{opacity:.9,rotate:0,delay:1,ease:"power1.inOut"},{opacity:0,scale:1.5,rotate:360,ease:"power1.inOut"})}async function b(){d();const f=o.currentCoordinates;if(!f.latitude&&!f.longitude){const g=await i.mutateAsync(e.addresssInput);g&&o.setCoordinates({latitude:g.latitude,longitude:g.longitude})}o.setCurrentAddress(e.addresssInput),setTimeout(()=>{r("/select")},1100)}return t.jsxs("div",{ref:h,className:"bg-slate-50 h-screen flex flex-col justify-end cursor-default",children:[t.jsx("div",{ref:C,className:"absolute top-0 ",children:t.jsx(Se,{className:"md:h-[200px] md:w-[200px] h-[130px] w-[130px] opacity-85 text-customOrange "})}),t.jsx("div",{ref:l,className:"w-full flex justify-center items-center md:mt-10 mb-[100px] md:mb-0",children:t.jsx("div",{className:"w-full flex justify-center items-center",children:t.jsx("div",{className:" flex flex-col justify-start md:items-center mr-10",children:t.jsx("p",{ref:u,className:"font-archivo font-black text-white tracking-tighter 2xl:text-[250px] lg:text-[200px] text-[100px] text-wrap m-0 p-0 leading-non mix-blend-difference ",children:"Munch Hunt"})})})}),t.jsx("div",{ref:x,className:"flex justify-center",children:t.jsxs("div",{className:"md:w-2/3 md:h-28 w-full flex flex-col justify-center items-center rounded-lg border-none  ",children:[t.jsxs("div",{className:"md:w-2/3 w-5/6 flex",children:[t.jsxs("div",{className:"relative w-full",children:[t.jsx("span",{className:"absolute z-10 inset-y-0 right-3 flex items-center text-slate-900",children:p?t.jsx(ze,{}):t.jsx(He,{className:"h-4 w-4"})}),t.jsx(ae,{className:"h-[50px] bg-slate-50 font-inter border-[1px] drop-shadow-lg",type:"text",placeholder:"Enter your location",value:e.addresssInput,onChange:f=>{s({addresssInput:f.target.value})}})]}),t.jsx(S,{className:"ml-2 w-[100px] shadow-lg drop-shadow-lg h-[50px] hover:bg-customOrange ",onClick:b,children:t.jsx(se,{style:{width:"25px",height:"25px"}})})]}),t.jsx("p",{className:"font-roboto text-slate-300 mt-2",children:"Enter location"})]})}),t.jsx("div",{ref:v,className:"w-full md:h-1/6 h-[80px] bg-customOrange flex justify-center items-center mt-20",children:t.jsx("p",{ref:w,className:"font-inter font-black md:text-[40px] text-[20px]",children:"Conquer Hunger."})})]})}function ot(e){if(!e)return;const n=e.split(",");return n.length>2?n.slice(0,-2).join(",").trim():e}function at(){const e=k();let n=je();const s=A();a.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(i=>{i.coords&&e.setCoordinates({latitude:i.coords.latitude.toString(),longitude:i.coords.longitude.toString()})})},[]),a.useEffect(()=>(Object.values(e.currentCoordinates).length>0&&localStorage.setItem("location",JSON.stringify(e.currentCoordinates)),()=>{}),[e.currentCoordinates]);function o(i){i.preventDefault(),localStorage.removeItem("location"),s("/location")}const r=n.pathname==="/"||n.pathname==="/location";return t.jsxs("div",{className:"max-h-screen flex flex-col font-inter relative bg-slate-50 cursor-default",children:[r?null:t.jsx("header",{className:" w-full bg-customOrange p-3 flex justify-between items-center fixed z-20 top-0 left-0 cursor-default shadow-[0px_4px_6px_rgba(0,0,0,0.1)]",children:t.jsx("div",{onClick:i=>o(i),children:t.jsx("p",{className:"font-archivo font-black  tracking-tighter md:text-[65px] text-[30px] ml-3",children:"Munch Hunt"})})}),t.jsx("main",{className:`flex-1 overflow-y-auto ${r?"":"md:mt-[110px] mt-16"}`,children:t.jsx(we,{})})]})}const rt=["American","Argentinian","Asian","Bar","BBQ","Breakfast","Brunch","Burgers","Chinese","Colombian","Cuban","Dessert","Diner","Filipino","Greek","Halal","Healthy","Ice Cream","Indian","Italian","Jamaican","Japanese","Korean BBQ","Korean","Lunch","Mediterranean","Mexican","Pasta","Peruvian","Pho","Pizza","Ramen","Salad","Sports bar","Sushi","Takeout","Thai","Vegan","Vegetarian","Vietnamese"];function ie(e){a.useEffect(()=>{const o=r=>{r.key==="Escape"&&s()};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[e.onClose,s]);const n=e.isOpen??!0;function s(){return e.onClose?e.onClose():null}return n?t.jsx("div",{className:`fixed inset-0 flex justify-center items-center z-[100] ${n?"visible bg-black bg-opacity-50":"invisible"}`,onClick:s,children:t.jsxs("div",{className:m("flex flex-col p-4 rounded-lg  max-w-full max-h-full md:bg-slate-50",e.class),onClick:o=>o.stopPropagation(),children:[e.showClose&&t.jsx("div",{className:"h-[19px] w-full md:flex justify-end hidden",onClick:s,children:t.jsx(z,{className:" text-black hover:text-customOrange",size:24})}),t.jsx(t.Fragment,{children:e.children})]})}):null}const it=Re,lt=Fe,ct=Ae,le=a.forwardRef(({className:e,sideOffset:n=4,...s},o)=>t.jsx(G,{ref:o,sideOffset:n,className:m("z-[1000] overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s}));le.displayName=G.displayName;function dt(e){return t.jsx(it,{children:t.jsxs(lt,{children:[t.jsx(ct,{asChild:!0,children:t.jsx("button",{children:e.children})}),t.jsx(le,{className:e.className,side:e.side,children:e.content})]})})}const ut={selectedChoices:[],excludedChoices:[],isLoading:!1,showSelectionModal:!1,isHuntChoosing:!1};function ft(){const[e,n]=a.useState(ut),s=$(n),o=k(),r=A(),i=window.innerWidth,c=a.useMemo(()=>rt.filter(l=>!e.excludedChoices.includes(l)),[e.excludedChoices]);a.useEffect(()=>{if(e.selectedChoices.length===5&&!e.isLoading&&e.isHuntChoosing){const l=T(e.selectedChoices);o.setMunchHuntChoice(l),localStorage.setItem("choice",l),s({showSelectionModal:!0})}},[e.selectedChoices,e.isLoading,e.isHuntChoosing]),a.useEffect(()=>{e.showSelectionModal&&setTimeout(()=>{s({showSelectionModal:!1}),r("/restaurants")},3e3)},[e.showSelectionModal]);const p=a.useRef(null);H(()=>{e.excludedChoices.length>0?j.to(p.current,{width:400,translateX:0,duration:1,ease:"power3.out"}):j.to(p.current,{width:0,translateX:-400,duration:1,ease:"power3.out"})},[p,e.excludedChoices]);function y(l){if(e.excludedChoices.includes(l)){const x=e.excludedChoices.filter(w=>w!==l);s({excludedChoices:x})}else if(e.selectedChoices.includes(l)){const x=e.selectedChoices.filter(w=>w!==l);s({selectedChoices:x,excludedChoices:[...e.excludedChoices,l]})}else s({selectedChoices:[...e.selectedChoices,l]})}function h(l){return s({isLoading:!0,isHuntChoosing:!0}),new Promise(x=>{setTimeout(()=>{n(w=>({...w,selectedChoices:[...w.selectedChoices,T(c)]})),x()},l)})}async function u(){for(let l=0;l<5;l++)await h(l+1*1e3)}function v(){if(e.selectedChoices.length===0)u().then(()=>{setTimeout(()=>{s({isLoading:!1})},2e3)});else{const x=T(e.selectedChoices);o.setMunchHuntChoice(x),localStorage.setItem("choice",x),setTimeout(()=>{s({showSelectionModal:!0})},2e3)}}return t.jsxs("div",{className:"w-full flex md:flex-row flex-col md:pt-0 pt-10 justify-center items-center",children:[e.showSelectionModal&&xt(o.munchHuntChoice),t.jsx("div",{ref:p,className:`min-h-[500px] max-h-[500px]  flex flex-col overflow-hidden ${e.excludedChoices.length>0?"w-[400px] py-3 px-4 border-r-2 ":"w-0 hidden md:flex "}`,children:t.jsxs("div",{className:"h-full w-full ",children:[t.jsxs("div",{className:"h-1/5 w-full flex justify-between ",children:[t.jsx("p",{className:"font-inter text-slate-500 text-[20px] mb-3 font-semibold ",children:"Excluded Choices"}),t.jsx(dt,{className:"bg-slate-500 opacity-80 ",side:"left",content:t.jsx("p",{className:"text-white",children:"Remove all from excluded"}),children:t.jsx(z,{className:" text-slate-400 ",onClick:l=>{l.preventDefault(),s({excludedChoices:[]})}})})]}),t.jsx("div",{className:"max-h-[28rem] flex flex-col overflow-auto",children:e.excludedChoices.map((l,x)=>t.jsxs(S,{variant:"secondary",className:"mb-1 hover:bg-slate-900 hover:text-white border-2 w-full flex justify-between",onClick:()=>y(l),children:[l,i>700?t.jsx(se,{}):t.jsx(z,{})]},x))})]})}),t.jsxs("div",{className:"h-full md:w-3/4 w-5/6 text-center md:text-left  flex flex-col justify-start items-center md:p-10 ",children:[e.isLoading?t.jsxs("div",{className:"flex min-h-[60px] flex-col justify-center items-center",children:[t.jsx(Pe,{className:"h-[60px] w-[60px] animate-spin text-customOrange duration-1000"}),t.jsx("p",{className:"mt-3 font-inter text-slate-700",children:"chosing for you..."})]}):t.jsxs("div",{className:"flex flex-col justify-center items-center",children:[t.jsx("p",{className:"font-anton font-bold text-[25px]",children:"Lets get started!"}),t.jsx("p",{className:"font-roboto",children:"Select several cuisines or categories you would want to eat."}),t.jsxs("p",{className:"font-roboto",children:["If none are selected, ",t.jsx("strong",{children:"Munch Hunt"})," will choose one for you"]})]}),t.jsx("div",{className:"2xl:w-full md:w-5/6 w-full  mt-5 max-h-96 min-h-96  overflow-auto py-2",children:e.isHuntChoosing?t.jsx(F,{className:"md:grid grid-cols-4 gap-4 p-1 py-3",xyz:"fade small out-down out-rotate-right appear-stagger",children:e.selectedChoices.map((l,x)=>t.jsx("div",{children:t.jsx(S,{className:" h-full w-full flex justify-center border p-3 rounded-xl shadow-sm bg-slate-900 hover:text-white",children:t.jsx("p",{className:"font-semibold text-lg",children:l})})},`${x}-${l}`))}):t.jsx(mt,{choices:c,selected:e.selectedChoices,onSelect:y})}),t.jsx("div",{className:"mt-10 md:mb-0 mb-5 2xl:mt-20 ",children:t.jsx(S,{disabled:e.isLoading,className:"w-[200px] h-[50px] text-[25px] font-archivo bg-customOrange text-slate-900 shadow-lg hover:text-white",onClick:v,children:"Hunt"})})]})]})}function mt(e){const[n,s]=a.useState(!1);return a.useEffect(()=>{const o=setTimeout(()=>{s(!0)},500);return()=>clearTimeout(o)},[]),t.jsx("div",{className:"h-full",children:n&&t.jsx(F,{appear:!0,className:"md:grid md:grid-cols-4 md:gap-4 md:p-1 md:py-3 grid grid-cols-2 ",xyz:"fade small out-down out-rotate-right-0 duration-3 ",children:e.choices.map((o,r)=>t.jsx("div",{className:"h-[50px]",children:t.jsx(S,{className:` h-full w-full flex justify-center border p-3 rounded-xl shadow-sm
              ${e.selected.includes(o)?"bg-slate-900 hover:text-white hover:bg-red-500 ":"bg-slate-50 text-slate-900 hover:bg-slate-900 hover:text-white"}
             `,onClick:()=>e.onSelect(o),children:t.jsx("p",{className:"font-semibold text-lg",children:o})})},`${r}-${o}`))})})}function xt(e){return t.jsx(ie,{class:"md:bg-transparent",children:t.jsx(B,{appear:!0,className:`bg-customOrange rounded-[15px]
        ring-[9px] ring-customOrange ring-offset-1 ring-offset-transparent ring-opacity-45
        `,xyz:"small-100% origin-center",children:t.jsxs("div",{className:"flex flex-col justify-center items-center  h-[200px] md:min-w-[400px] min-w-72 md:max-w-[600px] rounded-[30px] md:p-4 px-2",children:[t.jsx("p",{className:"font-roboto text-[18px] font-semibold text-white",children:"The Hunt Chose"}),t.jsx("p",{className:"font-archivo font-bold md:text-[65px] text-[40px] text-wrap",children:e}),t.jsx(B,{appear:!0,className:"mb-1",xyz:"fade flip-left perspective-1 delay-10 duration-10",children:t.jsx("div",{className:"mt-4 md:mt-0",children:t.jsx($e,{size:35})})})]})})})}async function ht(e){try{const n={headers:{Authorization:"Bearer 02DPdcPfY3BTKNg5gOdm6WkyYOG5UTgF8xRUdF_l8HfUzpkbdOpgUjSlCesQKDrzoIBRKOkEAWJ3AVQjpdDUkB_xJSJO87XXajNn7k6R2ENSpZNf3li4vPATHbUjZ3Yx"}},s=await I.get(`https://api.yelp.com/v3/businesses/search?term=${e.food}&latitude=${e.coordinates.latitude}&longitude=${e.coordinates.longitude}&radius=40000&limit=50`,n);return s.data&&s.data.businesses?s.data.businesses:[]}catch(n){console.log("ERROR",n)}}function pt(e){return P({queryKey:["yelpResults",e],queryFn:async()=>(await ht({...e})??[]).map(o=>({alias:o.alias,coordinates:o.coordinates,displayAddress:o.location.display_address.join(),displayPhone:o.display_phone,distance:o.distance,id:o.id,imageURL:o.image_url,isClosed:o.is_closed,name:o.name,price:o.price,rating:o.rating,transactions:o.transactions})),enabled:e.food.length>0&&e.coordinates.latitude.length>0&&e.coordinates.longitude.length>0})}const ce=a.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",e),...n}));ce.displayName="Card";const gt=a.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:m("flex flex-col space-y-1.5 p-6",e),...n}));gt.displayName="CardHeader";const jt=a.forwardRef(({className:e,...n},s)=>t.jsx("h3",{ref:s,className:m("text-2xl font-semibold leading-none tracking-tight",e),...n}));jt.displayName="CardTitle";const wt=a.forwardRef(({className:e,...n},s)=>t.jsx("p",{ref:s,className:m("text-sm text-muted-foreground",e),...n}));wt.displayName="CardDescription";const de=a.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:m("p-6 pt-0",e),...n}));de.displayName="CardContent";const ue=a.forwardRef(({className:e,...n},s)=>t.jsx("div",{ref:s,className:m("flex items-center p-6 pt-0",e),...n}));ue.displayName="CardFooter";function yt(e){const n={lat:e.coordintes.latitude,lng:e.coordintes.longitude},s={width:e.width?e.width:"400px",height:e.height?e.height:"400px"};return t.jsx("div",{className:"h-auto w-auto rounded-[40px]",children:t.jsx(Ge,{apiKey:"AIzaSyCd-C2k9xAAF52qiGiF3FFhuZnF2xB6KDc",children:t.jsx(Xe,{id:"munch_hunt_g_map",mapId:"63591389102871d8",style:s,defaultCenter:n,defaultZoom:15,disableDefaultUI:!1,children:t.jsx(Ye,{position:n})})})})}async function vt(e){try{const n={headers:{Authorization:"Bearer 02DPdcPfY3BTKNg5gOdm6WkyYOG5UTgF8xRUdF_l8HfUzpkbdOpgUjSlCesQKDrzoIBRKOkEAWJ3AVQjpdDUkB_xJSJO87XXajNn7k6R2ENSpZNf3li4vPATHbUjZ3Yx"}},s=await I.get(`https://api.yelp.com/v3/businesses/${e.businessID}`,n);return s.data?s.data:void 0}catch(n){console.log("ERROR",n)}}function bt(e){return P({queryKey:["business",e.businessID],queryFn:async()=>{const n=await vt({...e});return n?{name:n.name,id:n.id,photos:n.photos,url:n.url}:{name:"",id:e.businessID,photos:[],url:""}},enabled:e.businessID.length>0})}const Nt=ke,Ct=Oe,St=a.forwardRef(({className:e,inset:n,children:s,...o},r)=>t.jsxs(X,{ref:r,className:m("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none  data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",e),...o,children:[s,t.jsx(ne,{className:"ml-auto"})]}));St.displayName=X.displayName;const Rt=a.forwardRef(({className:e,...n},s)=>t.jsx(Y,{ref:s,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));Rt.displayName=Y.displayName;const fe=a.forwardRef(({className:e,sideOffset:n=4,...s},o)=>t.jsx(Ie,{children:t.jsx(q,{ref:o,sideOffset:n,className:m("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...s})}));fe.displayName=q.displayName;const me=a.forwardRef(({className:e,inset:n,...s},o)=>t.jsx(J,{ref:o,className:m("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors  data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover:bg-customOrange hover:text-white",n&&"pl-8",e),...s}));me.displayName=J.displayName;const Ft=a.forwardRef(({className:e,children:n,checked:s,...o},r)=>t.jsxs(Q,{ref:r,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:s,...o,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(V,{children:t.jsx(Le,{className:"h-4 w-4"})})}),n]}));Ft.displayName=Q.displayName;const At=a.forwardRef(({className:e,children:n,...s},o)=>t.jsxs(Z,{ref:o,className:m("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(V,{children:t.jsx(Ee,{className:"h-2 w-2 fill-current"})})}),n]}));At.displayName=Z.displayName;const It=a.forwardRef(({className:e,inset:n,...s},o)=>t.jsx(ee,{ref:o,className:m("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",e),...s}));It.displayName=ee.displayName;const kt=a.forwardRef(({className:e,...n},s)=>t.jsx(te,{ref:s,className:m("-mx-1 my-1 h-px bg-muted",e),...n}));kt.displayName=te.displayName;function M(e){const[n,s]=a.useState(null);function o(i){s(i),e.onChange({name:e.title.toLowerCase(),value:i.value})}const r=n!==null?n.label:e.title;return t.jsxs(Nt,{children:[t.jsxs(Ct,{className:`md:w-[180px] w-[120px] h-[40px] flex justify-between items-center border-2 t
          hover:bg-slate-900 hover:text-white rounded-md mr-2 p-2 focus:outline-orange-300`,children:[r,t.jsx(Be,{})]}),t.jsx(fe,{side:"bottom",children:e.options.map((i,c)=>t.jsx(me,{className:"md:w-[170px]  text-black font-roboto",onChange:()=>o(i),onClick:()=>o(i),children:i.label},`${c}-${i.value}`))})]})}function D(e){return t.jsxs("div",{className:"flex flex-col",children:[t.jsx("p",{className:"font-roboto text-slate-500 mt-2",children:e.label}),e.options.map((n,s)=>t.jsx(S,{variant:"outline",className:`mb-1 hover:bg-slate-900 hover:text-white border-[1px] w-full h-[30px] flex justify-between ${e.value===n.value?"bg-customOrange text-white":""}`,onClick:()=>e.handleChange({name:e.filterName,value:n.value}),children:n.label},s))]})}function xe(e){const n=e.rating%1===0;let s;n&&(s=new Array(e.rating).fill("star")),s=new Array(Math.floor(e.rating)).fill("stars"),s.push("half");const o=e.iconSize??16;return t.jsx(F,{className:`flex ${e.direction?"flex-start":"justify-end"}`,appear:!!e.direction,xyz:"fade small out-down out-rotate-right appear-stagger",children:s.map((r,i)=>t.jsx("div",{children:r==="stars"?t.jsx(_e,{size:o,className:" mr-1 group-hover:fill-[#ffcf40] group-hover:text-[#ffcf40] fill-slate-800 text-slate-800"}):t.jsx(We,{size:o,className:" mr-1 group-hover:fill-[#ffcf40] group-hover:text-[#ffcf40] fill-slate-800 text-slate-800"})},i))})}const W=new Array(5).fill("$").map((e,n)=>{const s=e.repeat(n+1);return{label:s,value:s}}),K=new Array(5).fill("").map((e,n)=>{const s=n+1;return{label:s.toString()+(n===0?" Star":" Stars"),value:s.toString()}}),U=["<1","1","5","10","25"].map((e,n)=>{const s=e==="<1"?"0.9":e;return{label:e+" ml",value:s}}),Ot={selectedRestaurantID:null,priceFilter:null,distanceFilter:null,ratingFilter:null,showShadow:!1,isSmallWindow:!1};function Tt(){var w,C;const[e,n]=a.useState(Ot),s=$(n),o=k(),{munchHuntChoice:r,currentCoordinates:i}=o,{data:c=[],isLoading:p=!1,isFetching:y}=pt({food:r,coordinates:i});bt({businessID:e.selectedRestaurantID??""});const h=Ue.keyBy(c,"id");a.useEffect(()=>{window.innerWidth<700?s({isSmallWindow:!0}):s({isSmallWindow:!1})},[]);const u=a.useMemo(()=>!e.distanceFilter&&!e.ratingFilter&&!e.priceFilter?c:c.filter(d=>{const b=e.priceFilter===null||d.price!==void 0&&d.price===e.priceFilter,f=e.distanceFilter===null||Number(oe(d.distance))<=e.distanceFilter,g=e.ratingFilter===null||Je(d.rating,e.ratingFilter,e.ratingFilter+1);return b&&f&&g}),[c,e.priceFilter,e.distanceFilter,e.ratingFilter]);function v(d){e.selectedRestaurantID===d?s({selectedRestaurantID:null}):s({selectedRestaurantID:d})}function l(d){var g;let b=d.value;const f=`${d.name}Filter`;if(((g=e[`${f}`])==null?void 0:g.toString())===d.value){s({[f]:null});return}switch(d.name){case"price":{b=d.value;break}case"rating":{b=Number(d.value);break}case"distance":b=Number(d.value)}s({[f]:b})}function x(){if(e.selectedRestaurantID===null)return null;const d=window.innerWidth,b=window.innerHeight;let f,g;d<700&&(f=d-100,g=b/3);const N=h[e.selectedRestaurantID];return t.jsx(ie,{onClose:()=>s({selectedRestaurantID:null}),showClose:!0,children:t.jsxs("div",{className:"md:w-[850px] md:h-[450px] h-[600px]  bg-slate-50 rounded-xl p-8 flex md:flex-row flex-col cursor-default",children:[t.jsxs("div",{className:"md:w-2/4 md:h-full h-2/5 flex flex-col justify-between",children:[t.jsxs("div",{className:"flex flex-col items-start md:h-[90px] h-[50px] justify-between",children:[t.jsx("p",{className:"font-archivo md:text-[30px] text-[20px] text-wrap ",children:N.name}),t.jsx(xe,{rating:N.rating,direction:"start",iconSize:24}),t.jsx("p",{className:"font-semibold text-lg mt-2",children:N.price??"--"})]}),t.jsxs("div",{className:"flex flex-col items-end mr-5 text-right",children:[t.jsx("p",{className:"text-wrap font-semibold ",children:N.displayAddress}),t.jsx("p",{children:N.displayPhone}),t.jsx("p",{children:N.transactions.join(", ")})]})]}),t.jsx("div",{children:t.jsx(yt,{coordintes:N.coordinates,width:f,height:g})})]})})}return t.jsxs("div",{className:"className='w-full h-full flex flex-col justify-center items-center cursor-default md:pt-3 overflow-hidden",children:[x(),t.jsxs("div",{className:"flex w-full justify-start items-center  md:max-h-[130px] md:min-h-[80px] bg-stone-900 py-2",children:[t.jsxs("div",{className:"w-1/5 md:flex hidden justify-end pr-3",children:[t.jsx("p",{className:"font-roboto text-[17px] text-white",children:"The Hunt Chose"}),t.jsx(ne,{color:"white"})]}),t.jsx("div",{className:"md:w-3/4 w-full flex md:justify-start justify-center items-center text-white md:pl-6",children:t.jsx("p",{className:"font-archivo font-bold md:text-[30px] text-[35px] ",children:r})})]}),t.jsxs("div",{className:"w-full h-full flex md:flex-row flex-col mt-2  ",children:[t.jsxs("div",{className:"md:w-1/5 border-r-2 md:flex flex-col md:px-10 px-5 py-4 ",children:[t.jsx("p",{className:"font-inter font-semibold text-lg text-slate-500",children:"Filter By"}),t.jsx("div",{className:"w-full border-b-2"}),t.jsx("div",{}),e.isSmallWindow?t.jsxs("div",{className:"flex flex-row h-[95%] overflow-auto mt-2",children:[t.jsx(M,{title:"Price",options:W,onChange:l}),t.jsx(M,{title:"Distance",options:U,onChange:l}),t.jsx(M,{title:"Rating",options:K,onChange:l})]}):t.jsxs("div",{className:"flex flex-col h-[95%] overflow-auto mt-2",children:[t.jsx(D,{filterName:"price",label:"Price",options:W,value:e.priceFilter??"",handleChange:l}),t.jsx(D,{filterName:"distance",label:"Distance",options:U,value:((w=e.distanceFilter)==null?void 0:w.toString())??"",handleChange:l}),t.jsx(D,{filterName:"rating",label:"Rating",options:K,value:((C=e.ratingFilter)==null?void 0:C.toString())??"",handleChange:l})]})]}),t.jsx("div",{className:"md:w-3/4 2xl:max-h-[650px] md:max-h-[550px] md:min-h-[550px] max-h-[600px]  overflow-auto rounded-lg",children:t.jsx(Mt,{restaurants:u,isLoading:p,isFetching:y,onSelect:v})})]})]})}function Mt(e){return!e.isFetching&&e.restaurants.length===0?t.jsx("div",{className:"h-full w-full flex justify-center items-center  opacity-20 mt-2",children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx(Ke,{className:"h-28 w-28 "}),t.jsx("p",{className:"font-anton text-[30px]",children:"No results"})]})}):t.jsx("div",{className:"h-full",children:e.isLoading?t.jsx(Dt,{}):t.jsx(F,{appear:e.restaurants.length>0,className:"grid md:grid-cols-3 grid-cols-1 gap-5 gap-y-5 ",xyz:"fade small out-down out-rotate-right-0",children:e.restaurants.map((n,s)=>{let o="Available for ";return n.transactions.forEach(r=>{if(r.includes("_")){const i=r.split("_").join(" ");o=o.concat(`${i} `)}else o=o.concat(`${r} `)}),t.jsx("div",{className:"h-[300px] px-5",children:t.jsxs(ce,{className:"group w-full h-full  flex flex-col justify-between  p-1 border-none bg-transparent shadow-none hover:shadow-2xl hover:border-4 hover:bg-[#FAFAFA] cursor-pointer",onClick:()=>e.onSelect(n.id),children:[t.jsxs(de,{className:"w-full  overflow-hidden p-0 rounded-lg relative",children:[t.jsxs("div",{className:`absolute top-0 right-0 z-10 w-[250px] p-3 flex flex-col items-end text-[20px] font-bold text-white
                      opacity-0 group-hover:opacity-100  -translate-x-10 transition-transform duration-500 ease-in-out group-hover:translate-x-0 rounded-lg
                      drop-shadow-md `,children:[n.transactions.length>0&&t.jsx("div",{className:" text-[15px] flex justify-end text-wrap  rounded-lg drop-shadow-lg",children:t.jsx("p",{className:"text-wrap text-right",children:o})}),t.jsx("p",{className:"",children:n.displayPhone}),t.jsx("p",{className:"text-[15px]",children:n.isClosed?"Open now":"Closed"})]}),t.jsx("img",{className:"object-contain  ",alt:"food",src:n.imageURL})]}),t.jsxs(ue,{className:"px-2 py-1 w-full flex flex-col justify-between items-start text-sm mt-1",children:[t.jsxs("div",{className:"w-full flex justify-between",children:[t.jsx("p",{className:"font-semibold text-slate-800 text-[14px] text-wrap",children:n.name}),t.jsx(xe,{rating:n.rating})]}),t.jsxs("div",{className:"flex w-full",children:[t.jsx("p",{className:"mr-2 font-semibold",children:n.price?n.price:"--"}),t.jsx("p",{className:"text-slate-700",children:`${oe(n.distance)} miles away`})]})]})]})},`${s}-${n.id}`)})})})}function Dt(){const e=new Array(9).fill("item");return t.jsx(F,{appear:!0,className:"grid md:grid-cols-3 grid-cols-1 gap-5 px-3",xyz:"fade small out-down out-rotate-right-0",children:e.map((n,s)=>t.jsxs("div",{className:"w-full h-full text-center md:text-left  ",children:[t.jsx(_,{width:"90%",height:200,style:{borderRadius:"10px"}},s),t.jsx(_,{width:"50%",style:{borderRadius:"5px"}})]},s))})}function zt(){return t.jsx(Ve,{children:t.jsx(ge,{children:t.jsx(ye,{children:t.jsxs(R,{path:"/",element:t.jsx(at,{}),children:[t.jsx(R,{index:!0,element:t.jsx(qe,{})}),t.jsx(R,{path:"location",element:t.jsx(nt,{})}),t.jsx(R,{path:"select",element:t.jsx(ft,{})}),t.jsx(R,{path:"restaurants",element:t.jsx(Tt,{})})]})})})})}const Ht=new Me,Pt=pe.createRoot(document.getElementById("root"));Pt.render(t.jsx(he.StrictMode,{children:t.jsx(De,{client:Ht,children:t.jsx(zt,{})})}));
